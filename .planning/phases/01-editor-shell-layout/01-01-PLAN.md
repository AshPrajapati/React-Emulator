---
phase: 01-editor-shell-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, vite.config.js, index.html, src/main.jsx, src/App.jsx, src/index.css, src/components/Editor.jsx]
autonomous: true

must_haves:
  truths:
    - "User sees Monaco editor with JSX syntax highlighting"
    - "Code typed in editor flows to state"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies including Monaco and Vite"
      contains: "@monaco-editor/react"
    - path: "src/App.jsx"
      provides: "Main app component with state management"
      min_lines: 20
    - path: "src/components/Editor.jsx"
      provides: "Monaco editor component configured for JSX"
      exports: ["Editor"]
  key_links:
    - from: "src/components/Editor.jsx"
      to: "App.jsx state"
      via: "onChange prop callback"
      pattern: "onChange.*setCode"
---

<objective>
Initialize Vite project and integrate Monaco editor with JSX syntax highlighting

Purpose: Create the foundation for the React emulator with a professional code editor
Output: Working Vite app with Monaco editor component ready for JSX editing
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-editor-shell-layout/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Vite project</name>
  <files>package.json, vite.config.js, index.html, src/main.jsx, src/App.jsx, src/index.css</files>
  <action>
    Create a new Vite + React project structure manually (not using create-vite to avoid interactive prompts):

    1. Create package.json with dependencies:
       - react: ^18.2.0
       - react-dom: ^18.2.0
       - @monaco-editor/react: ^4.6.0
       - vite: ^5.0.0
       - @vitejs/plugin-react: ^4.2.0

    2. Create vite.config.js with React plugin

    3. Create index.html with root div and script tag for src/main.jsx

    4. Create src/main.jsx to render App component

    5. Create src/App.jsx with basic structure and state for code:
       - useState hook to manage code state
       - Initial code should be a simple Hello World React component with explicit import

    6. Create src/index.css with basic reset and dark theme styles

    Run npm install after creating files.
  </action>
  <verify>npm list @monaco-editor/react && npm run dev -- --port 5173</verify>
  <done>Vite dev server starts without errors and Monaco package is installed</done>
</task>

<task type="auto">
  <name>Task 2: Create Monaco Editor component</name>
  <files>src/components/Editor.jsx</files>
  <action>
    Create Editor component that wraps Monaco:

    1. Import Editor from @monaco-editor/react

    2. Configure for JSX:
       - language: "javascript"
       - theme: "vs-dark"
       - options: fontSize: 14, minimap: { enabled: false }, lineNumbers: "on"

    3. Accept props:
       - value: current code
       - onChange: callback when code changes

    4. Set default height to "100%" to fill container

    5. Handle onChange to pass updated code to parent

    The starter code should be:
    ```jsx
    import React from 'react';

    function App() {
      return (
        <div>
          <h1>Hello World</h1>
        </div>
      );
    }

    export default App;
    ```

    Update App.jsx to import and use the Editor component, passing code state and setCode handler.
  </action>
  <verify>grep -r "monaco-editor/react" src/ && grep "Editor" src/App.jsx</verify>
  <done>Editor component exists and is imported in App.jsx with onChange handler</done>
</task>

</tasks>

<verification>
- Vite dev server runs without errors
- Monaco editor renders with dark theme
- JSX syntax highlighting works
- Code changes trigger state updates
</verification>

<success_criteria>
- [ ] npm run dev starts the application
- [ ] Monaco editor visible with dark theme
- [ ] Can type JSX code and see syntax highlighting
- [ ] onChange events update React state
</success_criteria>

<output>
After completion, create `.planning/phases/01-editor-shell-layout/01-01-SUMMARY.md`
</output>